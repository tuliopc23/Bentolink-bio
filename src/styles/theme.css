/* ======= Token Imports ======= */
@import "./tokens/colors.css";
@import "./tokens/typography.css";
@import "./tokens/spacing.css";
@import "./tokens/materials.css";
@import "./tokens/animations.css";
@import "./tokens/shadows.css";

/* ======= Apple-Inspired Design Tokens ======= */
:root {
	/* Typography - SF Pro Display and SF Mono */
	--font-sans: "SF Pro Display", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
	--font-mono: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, monospace;

	/* Font sizes - Responsive with clamp */
	--fs-hero: var(--fs-large-title);
	--fs-h2: var(--fs-title-1);
	--fs-h3: var(--fs-title-2);
	--fs-0: var(--fs-body);
	--fs--1: var(--fs-subheadline);
	--fs--2: var(--fs-footnote);
	--fs-eyebrow: clamp(0.6875rem, 0.45vw + 0.66rem, 0.75rem);

	/* Line heights */
	--lh: var(--lh-base);
	--lh-hero: 1.1;
	--lh-heading: var(--lh-heading);
	--lh-base: var(--lh-base);
	--lh-tight: var(--lh-tight);
	--lh-compact: var(--lh-snug);

	/* Letter spacing - Apple HIG */
	--ls-hero: -0.039em;
	--ls-h2: var(--ls-title);
	--ls-h3: var(--ls-headline);
	--ls-body: -0.012em;
	--ls-caption: -0.006em;
	--ls-button: 0.004em;
	--ls-eyebrow: 0.06em;
	--ls-tight: -0.01em;

	/* Font variation settings */
	--font-variation-text: "opsz" 17;
	--font-variation-display-small: "opsz" 20;
	--font-variation-display-medium: "opsz" 28;
	--font-variation-display-large: "opsz" 40;
	--font-feature-settings: "liga" 1, "calt" 1, "kern" 1;

	/* Spacing - 8px baseline grid */
	--space-xxs: 8px;
	--space-xs: 12px;
	--space-sm: 16px;
	--space-md: 24px;
	--space-lg: 32px;
	--space-xl: 48px;
	--space-2xl: 64px;
	--space-3xl: 80px;

	/* Golden ratio spacing multipliers */
	--golden-ratio: 1.618;
	--space-golden-1: calc(var(--space-sm) * var(--golden-ratio));
	--space-golden-2: calc(var(--space-md) * var(--golden-ratio));
	--space-golden-3: calc(var(--space-lg) * var(--golden-ratio));
	--space-golden-4: calc(var(--space-xl) * var(--golden-ratio));

	/* Border radius - Tahoe 26 */
	--radius-xs: 6px;
	--radius-sm: 12px;
	--radius-md: 20px;
	--radius-lg: 32px;
	--radius-xl: 40px;

	/* Layout */
	--container-max: 1000px;
	--container-padding: clamp(var(--space-md), 6vw, var(--space-2xl));

	/* Motion - Spring-based animations */
	--motion-duration-instant: 100ms;
	--motion-duration-xs: 120ms;
	--motion-duration-sm: 180ms;
	--motion-duration-md: 240ms;
	--motion-duration-lg: 280ms;

	--motion-duration-spring-xs: 240ms;
	--motion-duration-spring-sm: 320ms;
	--motion-duration-spring-md: 420ms;
	--motion-duration-spring-lg: 520ms;

	--motion-ease-out: cubic-bezier(0.2, 0.68, 0.32, 1);
	--motion-ease-in: cubic-bezier(0.32, 0.94, 0.6, 1);
	--motion-ease-in-out: cubic-bezier(0.34, 0.7, 0.28, 1);
	--motion-spring-out: cubic-bezier(0.16, 0.94, 0.28, 1.32);

	--spring-snappy: cubic-bezier(0.16, 1.04, 0.32, 0.98);
	--spring-bouncy: cubic-bezier(0.18, 0.89, 0.32, 1.28);
	--spring-smooth: cubic-bezier(0.28, 0.88, 0.42, 1.08);
	--spring-responsive: cubic-bezier(0.22, 0.94, 0.38, 1.12);

	--motion-distance-xs: 4px;
	--motion-distance-sm: 8px;
	--motion-distance-md: 16px;
	--motion-scale-xs: 1.01;
	--motion-scale-sm: 1.015;
	--motion-scale-card: 1.024;
	--motion-scale-active: 0.984;
	--scroll-progress: 0;

	/* Glass materials - Tahoe 26 Liquid Glass */
	--glass-blur-base: 28px;
	--glass-blur-active: 42px;
	--glass-saturation-base: 2.1;
	--glass-saturation-active: 2.4;
	--glass-opacity-base: 72%;
	--glass-opacity-active: 88%;
	--glass-noise-opacity: 0.03;
	--glass-border: var(--panel-border);
	--glass-border-strong: var(--panel-border-strong);

	/* Glass Material Variants */
	--glass-ultra-thin-blur: 12px;
	--glass-ultra-thin-opacity: 60%;
	--glass-ultra-thin-saturation: 1.6;

	--glass-thin-blur: 20px;
	--glass-thin-opacity: 68%;
	--glass-thin-saturation: 1.9;

	--glass-regular-blur: 28px;
	--glass-regular-opacity: 72%;
	--glass-regular-saturation: 2.1;

	--glass-thick-blur: 36px;
	--glass-thick-opacity: 80%;
	--glass-thick-saturation: 2.3;

	--glass-ultra-thick-blur: 48px;
	--glass-ultra-thick-opacity: 90%;
	--glass-ultra-thick-saturation: 2.5;

	--glass-frosted-blur: 64px;
	--glass-frosted-opacity: 92%;
	--glass-frosted-saturation: 2.8;

	--glass-crystal-blur: 18px;
	--glass-crystal-opacity: 65%;
	--glass-crystal-saturation: 2.6;
	--glass-crystal-brightness: 1.08;
}

/* ======= Base Styles ======= */
* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

html {
	font-family: var(--font-sans);
	font-size: 16px;
	line-height: var(--lh-base);
	letter-spacing: var(--ls-body);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-rendering: optimizeLegibility;
	font-feature-settings: var(--font-feature-settings);
}

body {
	background: var(--bg);
	color: var(--text);
	min-height: 100vh;
	transition:
		background-color var(--motion-duration-md) var(--motion-ease-out),
		color var(--motion-duration-md) var(--motion-ease-out);
}

/* ======= Hover Elevation Utility ======= */
.hover-elevate {
	--hover-elevate-translate: -6px;
	--hover-elevate-scale: 1.01;
	--hover-shadow: var(--shadow-card-hover);
	--hover-border: var(--panel-border-strong);
	--hover-translate: 0px;
	--hover-scale: 1;
	transition:
		transform var(--motion-duration-spring-sm) var(--spring-smooth),
		box-shadow var(--motion-duration-sm) var(--motion-ease-out),
		border-color var(--motion-duration-sm) var(--motion-ease-out),
		background-color var(--motion-duration-sm) var(--motion-ease-out);
	will-change: transform, box-shadow;
	transform: translateY(calc((var(--reveal-translate, 0px)) + var(--hover-translate))) scale(var(--hover-scale));
}

.hover-elevate:hover,
.hover-elevate:focus-visible,
.hover-elevate:focus-within {
	--hover-translate: var(--hover-elevate-translate);
	--hover-scale: var(--hover-elevate-scale);
	box-shadow: var(--hover-shadow);
	border-color: var(--hover-border);
}

/* Theme transition class */
html.theme-transition,
html.theme-transition *,
html.theme-transition *::before,
html.theme-transition *::after {
	transition:
		background-color var(--motion-duration-md) var(--motion-ease-out),
		border-color var(--motion-duration-md) var(--motion-ease-out),
		color var(--motion-duration-md) var(--motion-ease-out),
		fill var(--motion-duration-md) var(--motion-ease-out),
		stroke var(--motion-duration-md) var(--motion-ease-out),
		box-shadow var(--motion-duration-md) var(--motion-ease-out);
}

/* Typography */
h1,
h2,
h3,
h4,
h5,
h6 {
	line-height: var(--lh-heading);
	font-weight: 600;
	letter-spacing: var(--ls-h2);
}

h1 {
	font-size: var(--fs-hero);
	font-weight: 700;
	letter-spacing: var(--ls-hero);
	line-height: var(--lh-hero);
}

h2 {
	font-size: var(--fs-h2);
	letter-spacing: var(--ls-h2);
}

h3 {
	font-size: var(--fs-h3);
	letter-spacing: var(--ls-h3);
}

p {
	font-size: var(--fs-0);
	line-height: var(--lh-base);
}

a {
	color: var(--link);
	text-decoration: none;
	transition: color var(--motion-duration-sm) var(--motion-ease-out);
}

a:hover {
	text-decoration: underline;
}

code,
pre {
	font-family: var(--font-mono);
	font-size: 0.9em;
}

/* Accessibility */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* Focus styles */
:focus-visible {
	outline: none;
	box-shadow: var(--focus-ring);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms;
		animation-iteration-count: 1;
		transition-duration: 0.01ms;
		scroll-behavior: auto;
	}
}
