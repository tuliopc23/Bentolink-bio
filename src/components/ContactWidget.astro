---
import IconTile from "./IconTile.astro";

const contacts = [
	{
		label: "Email",
		href: "mailto:contact@tuliocunha.dev",
		tint: "orange",
		iconAsset: "/icons/Email.webp",
	},
	{
		label: "Brazil",
		href: "#",
		tint: "green",
		iconAsset: "/icons/Location.svg",
	},
];
---

<div class="contact-widget" data-reveal data-reveal-order="1">
  <div class="contact-widget__items">
    {contacts.map((contact) => (
      <a 
        href={contact.href}
        class="contact-widget__item"
        aria-label={contact.label}
        target={contact.href.startsWith('http') ? '_blank' : undefined}
        rel={contact.href.startsWith('http') ? 'noopener noreferrer' : undefined}
      >
        <IconTile tint={contact.tint} label={contact.label} asset={contact.iconAsset} size="large" />
        <span class="contact-widget__label">{contact.label}</span>
      </a>
    ))}
  </div>
</div>

<style>
  .contact-widget {
    display: flex;
    justify-content: center;
    padding: 0 var(--container-padding-x);
    margin: var(--space-6) auto;
    max-width: 600px;
  }

  .contact-widget__items {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: clamp(1.5rem, 4vw, 2.5rem);
    align-items: center;
    justify-items: center;
    padding: var(--space-3) var(--space-5);
    background: var(--surface-elevated);
    border: 1px solid var(--panel-border);
    border-radius: var(--radius-widget);
    box-shadow: var(--shadow-card);
    width: clamp(420px, 48vw, 560px);
  }

  .contact-widget__item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--gap-sm);
    text-decoration: none;
    transition: all var(--motion-duration-fast) var(--motion-ease-out);
  }

  .contact-widget__item:hover {
    transform: translateY(calc(-1 * var(--translate-xs)));
  }

  .contact-widget__label {
    font-size: var(--fs-caption-2);
    color: var(--text-secondary);
    font-weight: var(--fw-medium);
    text-align: center;
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    .contact-widget {
      padding: 0 var(--space-4);
      margin: var(--space-4) auto;
    }

    .contact-widget__items {
      width: 100%;
      max-width: 400px;
      gap: var(--space-2);
      padding: var(--space-2) var(--space-3);
    }

    .contact-widget__item {
      flex-direction: row;
      gap: var(--space-2);
      padding: var(--space-2);
      justify-content: flex-start;
    }

    /* Make icons small on mobile to match desktop compact layout */
    .contact-widget__item :global(.icon-tile) {
      width: 40px !important;
      height: 40px !important;
      border-radius: 12px !important;
    }

    .contact-widget__label {
      font-size: var(--fs-caption-3);
      text-align: left;
    }
  }
</style>
